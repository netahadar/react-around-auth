{"version":3,"sources":["blocks/images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePostPopup.js","components/InfoTooltip.js","blocks/images/fail.svg","components/Login.js","blocks/images/success.svg","components/Register.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","link","text","loggedIn","email","className","src","logoPath","alt","href","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onDeletePostClick","currentUser","useContext","isOwn","owner","_id","galleryTrashButtonClassName","isLiked","likes","some","user","galleryLikeButtonClassName","type","onClick","style","backgroundImage","name","length","Main","onEditProfileClick","onAddPlaceClick","onEditAvatarClick","cards","avatar","about","map","Footer","ImagePopup","onClose","fetchCall","url","headers","fetch","then","res","ok","json","Promise","reject","statusText","api","baseUrl","this","_baseUrl","_headers","data","method","body","JSON","stringify","obj","cardId","cardID","_dislike","_addLike","authorization","PopupWithForm","props","isOpen","onSubmit","title","children","buttonTitle","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","value","onChange","filteredValue","target","replace","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarLink","useRef","current","ref","AddPlacePopup","onAddPlaceSubmit","place","setPlace","setLink","DeletePostPopup","onDeletePostSubmit","InfoTooltip","Login","onLogin","password","values","setValues","handleChange","failPath","Register","onRegister","isSuccess","successPath","ProtectedRoute","to","BASE_URL","App","history","useHistory","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePostPopupOpen","setIsDeletePostPopupOpen","isInfoPopupOpen","setIsInfoPopupOpen","infoTitle","setInfoTitle","selectedCard","setSelectedCard","setCurrentUser","setCards","deleteCard","setDeletedCard","setLoggedIn","setEmail","checkToken","localStorage","getItem","jwt","token","push","catch","console","log","closeAllPopups","getInitialCards","getUserInfo","Provider","path","error","Error","auth","err","setItem","changeLikeCardStatus","newCard","cardsState","item","newData","setUserInfo","createNewCard","newCards","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAAe,MAA0B,iC,OCG1B,SAASA,EAAT,GAAqD,IAApCC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,SAAuB,IAAbC,aAAa,MAAL,GAAK,EACjE,OACI,yBAAQC,UAAU,SAAlB,UACE,qBACEA,UAAU,eACVC,IAAKC,EACLC,IAAI,yBAEN,sBAAKH,UAAU,oBAAf,UACGF,GAAY,mBAAGE,UAAU,gBAAb,SAA8BD,IAC3C,mBAAGC,UAAU,eAAeI,KAAMR,EAAlC,SAAyCC,UCX5C,IAAMQ,EAAqBC,IAAMC,gBCCzB,SAASC,EAAT,GAKX,IAJFC,EAIC,EAJDA,KACAC,EAGC,EAHDA,YACAC,EAEC,EAFDA,WACAC,EACC,EADDA,kBAGMC,EAAcP,IAAMQ,WAAWT,GAerC,IAAMU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAA2B,gCAC/BH,EAAQ,gCAAkC,gCAItCI,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKL,MAAQJ,EAAYI,OAG7DM,EAA0B,+BAC9BJ,GAAW,+BAGb,OACE,qBAAInB,UAAU,gBAAd,UACE,wBACEA,UAAWkB,EACXM,KAAK,SACL,aAAW,gBACXC,QA1BN,WACEb,EAAkBH,MA2BhB,qBACET,UAAU,iBACV0B,MAAO,CAAEC,gBAAgB,OAAD,OAASlB,EAAKb,KAAd,MACxB6B,QAvCN,WACEf,EAAYD,MAwCV,sBAAKT,UAAU,uBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BS,EAAKmB,OACpC,sBAAK5B,UAAU,0BAAf,UACE,wBACEA,UAAWuB,EACXC,KAAK,SACL,aAAW,cACXC,QA5CV,WACEd,EAAWF,MA6CL,mBAAGT,UAAU,wBAAb,SAAsCS,EAAKW,MAAMS,kBC1D5C,SAASC,EAAT,GAQX,IAPFC,EAOC,EAPDA,mBACAC,EAMC,EANDA,gBACAC,EAKC,EALDA,kBACArB,EAIC,EAJDA,kBACAF,EAGC,EAHDA,YACAwB,EAEC,EAFDA,MACAvB,EACC,EADDA,WAGME,EAAcP,IAAMQ,WAAWT,GAErC,OACE,iCACE,0BAASL,UAAU,UAAnB,UACE,qBACEA,UAAU,4BACV0B,MAAO,CAAEC,gBAAgB,QAAD,OAAUd,EAAYsB,OAAtB,OAF1B,SAIE,wBACEnC,UAAU,uBACVyB,QAASQ,MAGb,sBAAKjC,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYe,OAC3C,wBACE5B,UAAU,uBACVwB,KAAK,SACL,aAAW,cACXC,QAASM,OAGb,mBAAG/B,UAAU,2BAAb,SAAyCa,EAAYuB,WAEvD,wBACEpC,UAAU,sBACVwB,KAAK,SACL,aAAW,aACXC,QAASO,OAIb,yBAAShC,UAAU,UAAnB,SACE,oBAAIA,UAAU,gBAAd,SACGkC,EAAMG,KAAI,SAAC5B,GACV,OACE,cAACD,EAAD,CACEC,KAAMA,EAENC,YAAaA,EACbC,WAAYA,EACZC,kBAAmBA,GAHdH,EAAKQ,eCpDX,SAASqB,IACtB,OACE,wBAAQtC,UAAU,SAAlB,SACE,mBAAGA,UAAU,qBAAb,2CCHS,SAASuC,EAAT,GAAsC,IAAjB9B,EAAgB,EAAhBA,KAAM+B,EAAU,EAAVA,QACxC,OACE,qBAAKxC,UAAS,iCAA4BS,EAAKmB,KAAO,eAAiB,IAAvE,SACE,sBAAK5B,UAAU,+CAAf,UACE,wBACEA,UAAU,qDACVwB,KAAK,SACLC,QAASe,IAEX,qBAAKxC,UAAU,eAAgB0B,MAAO,CAAEC,gBAAgB,OAAD,OAASlB,EAAKb,KAAd,QACvD,oBAAII,UAAU,cAAd,SAA6BS,EAAKmB,Y,oBCZpCa,EAAY,SAACC,EAAKC,GACpB,OAAOC,MAAMF,EAAKC,GACfE,MAAK,SAACC,GACL,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAGbC,QAAQC,OAAR,iBAAyBJ,EAAIK,iBAqGpBC,EALH,I,WA3FV,WAAYC,EAASV,GAAU,oBAC7BW,KAAKC,SAAWF,EAChBC,KAAKE,SAAWb,E,+CAIlB,WACE,OAAOF,EAAU,GAAD,OAAIa,KAAKC,SAAT,aAA8B,CAC5CZ,QAASW,KAAKE,a,2BAKlB,SAAcC,GACZ,OAAOhB,EAAU,GAAD,OAAIa,KAAKC,SAAT,oBAAqC,CACnDG,OAAQ,QACRf,QAASW,KAAKE,SACdG,KAAMC,KAAKC,UAAU,CAEnB1B,OAAQsB,EAAKtB,a,6BAMnB,WACE,OAAOM,EAAU,GAAD,OAAIa,KAAKC,SAAT,UAA2B,CACzCZ,QAASW,KAAKE,a,yBAKlB,SAAYM,GACV,OAAOrB,EAAU,GAAD,OAAIa,KAAKC,SAAT,aAA8B,CAC5CG,OAAQ,QACRf,QAASW,KAAKE,SACdG,KAAMC,KAAKC,UAAU,CAEnBjC,KAAMkC,EAAIlC,KACVQ,MAAO0B,EAAI1B,Y,2BAMjB,SAAc0B,GACZ,OAAOrB,EAAU,GAAD,OAAIa,KAAKC,SAAT,UAA2B,CACzCG,OAAQ,OACRf,QAASW,KAAKE,SACdG,KAAMC,KAAKC,UAAU,CAEnBjC,KAAMkC,EAAIlC,KACVhC,KAAMkE,EAAIlE,W,wBAMhB,SAAWmE,GACT,OAAOtB,EAAU,GAAD,OAAIa,KAAKC,SAAT,kBAA2BQ,GAAU,CACnDL,OAAQ,SACRf,QAASW,KAAKE,a,sBAKlB,SAASO,GACP,OAAOtB,EAAU,GAAD,OAAIa,KAAKC,SAAT,wBAAiCQ,GAAU,CACzDL,OAAQ,MACRf,QAASW,KAAKE,a,sBAKlB,SAASO,GACP,OAAOtB,EAAU,GAAD,OAAIa,KAAKC,SAAT,wBAAiCQ,GAAU,CACzDL,OAAQ,SACRf,QAASW,KAAKE,a,kCAKlB,SAAqBQ,EAAQ7C,GAC3B,OAAIA,EACKmC,KAAKW,SAASD,GAEdV,KAAKY,SAASF,O,KAKf,CAAQ,8CAA+C,CACjEG,cAAe,uCACf,eAAgB,qBCvGL,SAASC,EAAcC,GAClC,OACI,qBAAKrE,UAAS,2BAAsBqE,EAAMzC,KAA5B,YAAoCyC,EAAMC,OAAS,eAAe,IAAhF,SACE,sBAAKtE,UAAU,mBAAf,UACE,wBAAQA,UAAU,sBAAsBwB,KAAK,SAASC,QAAS4C,EAAM7B,UACrE,uBAAMxC,UAAU,cAAc4B,KAAMyC,EAAMzC,KAAO2C,SAAUF,EAAME,SAAjE,UACE,oBAAIvE,UAAU,oBAAd,SAAmCqE,EAAMG,QACxCH,EAAMI,SACP,wBAAQzE,UAAU,4BAA4BwB,KAAK,SAAnD,SACG6C,EAAMK,sBCPR,SAASC,EAAT,GAA4D,IAAjCL,EAAgC,EAAhCA,OAAQ9B,EAAwB,EAAxBA,QAASoC,EAAe,EAAfA,aACzD,EAAwBtE,IAAMuE,SAAS,IAAvC,mBAAOjD,EAAP,KAAakD,EAAb,KACA,EAAsCxE,IAAMuE,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KAeA,IAAMnE,EAAcP,IAAMQ,WAAWT,GAqBrC,OAjBAC,IAAM2E,WAAU,WACdH,EAAQjE,EAAYe,MACpBoD,EAAenE,EAAYuB,SAC1B,CAACvB,IAeF,eAACuD,EAAD,CACExC,KAAK,UACL4C,MAAM,eACNE,YAAY,OACZJ,OAAQA,EACR9B,QAASA,EACT+B,SAlBJ,SAAsBW,GAEpBA,EAAEC,iBAGFP,EAAa,CACXhD,OACAQ,MAAO2C,KAKT,UAQE,uBACE/E,UAAU,oBACVoF,GAAG,aACH5D,KAAK,OACLI,KAAK,OACLyD,MAAOzD,EACP0D,SAjDN,SAA0BJ,GAExB,IAAIK,EAAgBL,EAAEM,OAAOH,MAAMI,QAAQ,qBAAsB,KACjEX,EAAQS,IA+CJG,YAAY,YACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,IAEV,sBAAMT,GAAG,qBACT,uBACEpF,UAAU,oBACVoF,GAAG,YACH5D,KAAK,OACLI,KAAK,QACLyD,MAAON,EACPO,SAxDN,SAAiCJ,GAE/B,IAAIK,EAAgBL,EAAEM,OAAOH,MAAMI,QAAQ,qBAAsB,KACjET,EAAeO,IAsDXG,YAAY,YACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,IAEV,sBAAMT,GAAG,uBCzEA,SAASU,EAAT,GAA+D,IAApCxB,EAAmC,EAAnCA,OAAQ9B,EAA2B,EAA3BA,QAASuD,EAAkB,EAAlBA,eACnDC,EAAa1F,IAAM2F,SAWzB,OACE,eAAC7B,EAAD,CACExC,KAAK,SACL4C,MAAM,yBACNE,YAAY,OACZJ,OAAQA,EACR9B,QAASA,EACT+B,SAhBJ,SAAsBW,GACpBA,EAAEC,iBAEF,IAAII,EAAgBS,EAAWE,QAAQb,MAAMI,QAAQ,qBAAsB,KAC3EM,EAAe,CACb5D,OAAQoD,KAKV,UAQE,uBACEvF,UAAU,oBACVoF,GAAG,cACH5D,KAAK,MACLI,KAAK,OACL8D,YAAY,cACZS,IAAKH,EACLH,UAAQ,IAEV,sBAAMT,GAAG,yBC9BA,SAASgB,EAAT,GAA6D,IAArC9B,EAAoC,EAApCA,OAAQ9B,EAA4B,EAA5BA,QAAS6D,EAAmB,EAAnBA,iBACtD,EAA0B/F,IAAMuE,SAAS,IAAzC,mBAAOyB,EAAP,KAAcC,EAAd,KACA,EAAwBjG,IAAMuE,SAAS,IAAvC,mBAAOjF,EAAP,KAAa4G,EAAb,KAwBA,OACE,eAACpC,EAAD,CACExC,KAAK,OACL4C,MAAM,YACNE,YAAY,SACZJ,OAAQA,EACR9B,QAASA,EACT+B,SAjBJ,SAAsBW,GACpBA,EAAEC,iBAGFkB,EAAiB,CACbzE,KAAM0E,EACN1G,KAAMA,KAKV,UAQE,uBACEI,UAAU,oBACVoF,GAAG,cACH5D,KAAK,OACLI,KAAK,OACLyD,MAAOiB,EACPhB,SArCN,SAA2BJ,GAEzB,IAAIK,EAAgBL,EAAEM,OAAOH,MAAMI,QAAQ,qBAAsB,KACjEc,EAAShB,IAmCLG,YAAY,QACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,IAEV,sBAAMT,GAAG,sBACT,uBACEpF,UAAU,oBACVoF,GAAG,aACH5D,KAAK,MACLI,KAAK,OACLyD,MAAOzF,EACP0F,SA5CN,SAA0BJ,GAExB,IAAIK,EAAgBL,EAAEM,OAAOH,MAAMI,QAAQ,qBAAsB,KACjEe,EAAQjB,IA0CJG,YAAY,aACZG,UAAQ,IAEV,sBAAMT,GAAG,wBC1DA,SAASqB,EAAT,GAIX,IAHFnC,EAGC,EAHDA,OACA9B,EAEC,EAFDA,QACAkE,EACC,EADDA,mBAOA,OACE,cAACtC,EAAD,CACExC,KAAK,SACL4C,MAAM,gBACNE,YAAY,MACZJ,OAAQA,EACR9B,QAASA,EACT+B,SAZJ,SAAsBW,GACpBA,EAAEC,iBACFuB,O,mBCRW,SAASC,EAAYtC,GAIhC,OACI,qBAAKrE,UAAS,2BAAsBqE,EAAMzC,KAA5B,YAAoCyC,EAAMC,OAAS,eAAe,IAAhF,SACE,sBAAKtE,UAAU,eAAf,UACE,wBAAQA,UAAU,sBAAsBwB,KAAK,SAASC,QAAS4C,EAAM7B,UACrE,qBAAKvC,IAAKoE,EAAMpE,IAAKD,UAAU,wBAC/B,oBAAIA,UAAU,eAAd,SAA8BqE,EAAMG,aCXjC,UAA0B,iCCK1B,SAASoC,EAAT,GAA8C,IAA7BC,EAA4B,EAA5BA,QAASrE,EAAmB,EAAnBA,QAAS8B,EAAU,EAAVA,OAChD,EAA4BhE,IAAMuE,SAAS,CACzC9E,MAAO,GACP+G,SAAU,KAFZ,mBAAOC,EAAP,KAAeC,EAAf,KAKA,SAASC,EAAa/B,GACpB,MAAwBA,EAAEM,OAAlB5D,EAAR,EAAQA,KAEJ2D,EAFJ,EAAcF,MAEYI,QAAQ,qBAAsB,KACxDuB,EAAU,2BAAKD,GAAN,kBAAenF,EAAO2D,KAYjC,OACE,qCACE,sBAAKvF,UAAU,UAAf,UACE,oBAAIA,UAAU,iBAAd,oBACA,uBAAMA,UAAU,gBAAgBuE,SAZtC,SAAsBW,GAEpBA,EAAEC,iBAGF0B,EAAQE,IAOJ,UACE,uBACE/G,UAAU,sBACV4B,KAAK,QACL8D,YAAY,QACZG,UAAQ,EACRrE,KAAK,QACL6D,MAAO0B,EAAOhH,MACduF,SAAU2B,IAEZ,uBACEjH,UAAU,sBACV4B,KAAK,WACL8D,YAAY,WACZG,UAAQ,EACRrE,KAAK,WACL6D,MAAO0B,EAAOD,SACdxB,SAAU2B,IAEZ,wBAAQjH,UAAU,8BAA8BwB,KAAK,SAArD,uBAEF,mBAAGxB,UAAU,gBAAgBI,KAAK,UAAlC,gDAEF,cAACuG,EAAD,CACUrC,OAAQA,EACR1C,KAAK,OACL4C,MAAO,gDACPvE,IAAKiH,EACL1E,QAASA,OC3DV,UAA0B,oCCK1B,SAAS2E,EAAT,GAA+D,IAA3CC,EAA0C,EAA1CA,WAAY5E,EAA8B,EAA9BA,QAAS8B,EAAqB,EAArBA,OAAQ+C,EAAa,EAAbA,UAC9D,EAA4B/G,IAAMuE,SAAS,CACzC9E,MAAO,GACP+G,SAAU,KAFZ,mBAAOC,EAAP,KAAeC,EAAf,KAKA,SAASC,EAAa/B,GACpB,MAAuBA,EAAEM,OAAjB5D,EAAR,EAAQA,KAEJ2D,EAFJ,EAAcF,MAEYI,QAAQ,qBAAsB,KACxDuB,EAAU,2BAAID,GAAL,kBAAcnF,EAAO2D,KAahC,OACE,qCACE,sBAAKvF,UAAU,UAAf,UACE,oBAAIA,UAAU,iBAAd,qBACA,uBAAMA,UAAU,gBAAgBuE,SAZtC,SAAsBW,GAEpBA,EAAEC,iBAGFiC,EAAYL,IAOR,UACE,uBACE/G,UAAU,sBACV4B,KAAK,QACL8D,YAAY,QACZG,UAAQ,EACRrE,KAAK,QACL6D,MAAO0B,EAAOhH,MACduF,SAAU2B,IAEZ,uBACEjH,UAAU,sBACV4B,KAAK,WACL8D,YAAY,WACZG,UAAQ,EACRrE,KAAK,WACL6D,MAAO0B,EAAOD,SACdxB,SAAU2B,IAEZ,wBAAQjH,UAAU,8BAA8BwB,KAAK,SAArD,wBAEF,mBAAGxB,UAAU,gBAAgBI,KAAK,UAAlC,+CAEF,cAACuG,EAAD,CACUrC,OAAQA,EACR1C,KAAK,OACL4C,MACE6C,EACI,yCACA,gDAENpH,IAAKoH,EAAYC,EAAcJ,EAC/B1E,QAASA,O,sCCpDV+E,MATf,YAA2D,IAAjC9C,EAAgC,EAAhCA,SAAU3E,EAAsB,EAAtBA,SAAauE,EAAS,iBAExD,OACE,cAAC,IAAD,2BAAWA,GAAX,aACGvE,EAAW2E,EAAW,cAAC,IAAD,CAAU+C,GAAI,gBCN9BC,EAAW,oCC4STC,MA3Rf,WAEE,IAAMC,EAAUC,cAGhB,EACEtH,IAAMuE,UAAS,GADjB,mBAAOgD,EAAP,KAA8BC,EAA9B,KAIA,EACExH,IAAMuE,UAAS,GADjB,mBAAOkD,EAAP,KAA+BC,EAA/B,KAIA,EAAsD1H,IAAMuE,UAAS,GAArE,mBAAOoD,EAAP,KAA4BC,EAA5B,KAGA,EACE5H,IAAMuE,UAAS,GADjB,mBAAOsD,EAAP,KAA8BC,EAA9B,KAIA,EAA8C9H,IAAMuE,UAAS,GAA7D,mBAAOwD,EAAP,KAAwBC,EAAxB,KACA,EAAkChI,IAAMuE,UAAS,GAAjD,mBAAO0D,EAAP,KAAkBC,EAAlB,KAGA,EAAwClI,IAAMuE,SAAS,CACrDjD,KAAM,GACNhC,KAAM,KAFR,mBAAO6I,EAAP,KAAqBC,EAArB,KAMA,EAAsCpI,IAAMuE,SAAS,CACnDjD,KAAM,GACNQ,MAAO,GACPD,OAAQ,GACRlB,IAAK,KAJP,mBAAOJ,EAAP,KAAoB8H,EAApB,KAQA,EAA0BrI,IAAMuE,SAAS,IAAzC,mBAAO3C,GAAP,KAAc0G,GAAd,KAGA,GAAqCtI,IAAMuE,SAAS,CAClD5D,IAAK,KADP,qBAAO4H,GAAP,MAAmBC,GAAnB,MAKA,GAAgCxI,IAAMuE,UAAS,GAA/C,qBAAO/E,GAAP,MAAiBiJ,GAAjB,MAGA,GAA0BzI,IAAMuE,SAAS,IAAzC,qBAAO9E,GAAP,MAAciJ,GAAd,MA4BA,SAASC,KACP,GAAIC,aAAaC,QAAQ,OAAQ,CAC/B,IAAMC,EAAMF,aAAaC,QAAQ,QD5DZE,EC6DLD,ED5DXxG,MAAM,GAAD,OAAI6E,EAAJ,aAAyB,CACjC/D,OAAQ,MACRf,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2B0G,MAG9BxG,MAAK,SAAAC,GAAG,OAAIA,EAAIE,WCqDIH,MAAK,SAACC,GACrBA,IACFiG,IAAY,GACZC,GAASlG,EAAIW,KAAK1D,OAClB4H,EAAQ2B,KAAK,SAEdC,MAAMC,QAAQC,KDnEhB,IAAoBJ,ECiGzB,SAASK,KACP5B,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAmB,GACnBI,EAAgB,CAAE9G,KAAM,GAAIhC,KAAM,KA8FpC,OApKAU,IAAM2E,WAAU,WACd7B,EACGuG,kBACA9G,MAAK,SAACC,GACL8F,GAAS9F,MAEVyG,MAAMC,QAAQC,OAChB,IAGHnJ,IAAM2E,WAAU,WACd7B,EACGwG,cACA/G,MAAK,SAACC,GACL6F,EAAe,CACb/G,KAAMkB,EAAIlB,KACVQ,MAAOU,EAAIV,MACXD,OAAQW,EAAIX,OACZlB,IAAK6B,EAAI7B,SAGZsI,MAAMC,QAAQC,OAChB,IAiBHnJ,IAAM2E,WAAU,WACdgE,QA6HA,mCACE,cAAC5I,EAAmBwJ,SAApB,CAA6BxE,MAAOxE,EAApC,SACE,qBAAKb,UAAU,UAAf,SAEE,eAAC,IAAD,WACE,eAAC,IAAD,CAAO8J,KAAK,UAAZ,UACE,cAACnK,EAAD,CAAQC,KAAK,UAAUC,KAAK,SAASC,SAAUA,KAC/C,cAACqH,EAAD,CACEC,WAzBd,SAAwBL,GACtByC,QAAQC,IAAI1C,GDxNT,YAAwC,IAApBhH,EAAmB,EAAnBA,MAAO+G,EAAY,EAAZA,SAChC,OAAOlE,MAAM,GAAD,OAAI6E,EAAJ,WAAuB,CACjC/D,OAAQ,OACRf,QAAS,CACP,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAE9D,QAAO+G,eAE7BjE,MAAK,SAACC,GAAD,OAASA,EAAIE,UAClBH,MAAK,SAACY,GACL,GAAIA,EAAKsG,MACP,MAAM,IAAIC,MAAM,kDC8MpBC,CACYlD,GACTlE,MAAK,WACJ8E,EAAQ2B,KAAK,YACbd,GAAa,GACbF,GAAmB,MAEpBiB,OAAM,SAACW,GACNV,QAAQC,IAAIS,GACZ5B,GAAmB,GACnBE,GAAa,OAcLhG,QAASkH,GACTpF,OAAQ+D,EACRhB,UAAWkB,OAGf,eAAC,IAAD,CAAOuB,KAAK,UAAZ,UACE,cAACnK,EAAD,CAAQC,KAAK,UAAUC,KAAK,UAAUC,SAAUA,KAChD,cAAC8G,EAAD,CACEC,QA5Cd,SAAqBE,ID7LhB,YAAyC,IAApBhH,EAAmB,EAAnBA,MAAO+G,EAAY,EAAZA,SACjC,OAAOlE,MAAM,GAAD,OAAI6E,EAAJ,WAAuB,CACjC/D,OAAQ,OACRf,QAAS,CACP,eAAgB,oBAElBgB,KAAMC,KAAKC,UAAU,CAAE9D,QAAO+G,eAE7BjE,MAAK,SAACC,GAAD,OAASA,EAAIE,UAClBH,MAAK,SAACY,GACL,IAAIA,EAAK4F,MAGP,MAAM,IAAIW,MAAM,+CAFhBd,aAAaiB,QAAQ,MAAO1G,EAAK4F,WCmLrCY,CACalD,GACVlE,KAAKoG,MACLM,OAAM,SAACW,GACNV,QAAQC,IAAIS,GACZ5B,GAAmB,OAuCX9F,QAASkH,GACTpF,OAAQ+D,OAGZ,eAAC,EAAD,CAAgByB,KAAK,IAAIhK,SAAUA,GAAnC,UACE,cAACH,EAAD,CAAQC,KAAK,UAAUC,KAAK,UAAUC,SAAUA,GAAUC,MAAOA,KACjE,cAAC+B,EAAD,CACEC,mBA/Id,WACEiG,GAA0B,IA+IdhG,gBA5Id,WACEkG,GAAuB,IA4IXjG,kBArJd,WACE6F,GAAyB,IAqJblH,kBAtId,SAA+BH,GAC7B2H,GAAyB,GACzBU,GAAe,CAAE7H,IAAKR,EAAKQ,OAqIfP,YA3Id,SAAyBD,GACvBiI,EAAgB,CAAE9G,KAAMnB,EAAKmB,KAAMhC,KAAMa,EAAKb,QA2IlCsC,MAAOA,GACPvB,WA7Fd,SAAwBF,GAEtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKL,MAAQJ,EAAYI,OAEnEmC,EACGgH,qBAAqB3J,EAAKQ,IAAKE,GAC/B0B,MAAK,SAACwH,GACLzB,IAAS,SAAC0B,GAAD,OACPA,EAAWjI,KAAI,SAACkI,GAAD,OAAWA,EAAKtJ,MAAQR,EAAKQ,IAAMoJ,EAAUE,WAG/DhB,MAAMC,QAAQC,QAoFP,cAACnH,EAAD,IAEA,oCACE,cAACqC,EAAD,CACEL,OAAQyD,EACRvF,QAASkH,GACT9E,aAnIhB,SAA0B4F,GACxBpH,EACGqH,YAAYD,GACZ3H,MAAK,SAACC,GACL6F,EAAe,CACb/G,KAAMkB,EAAIlB,KACVQ,MAAOU,EAAIV,MACXD,OAAQW,EAAIX,OACZlB,IAAK6B,EAAI7B,MAEXyI,QAEDH,MAAMC,QAAQC,QAyHL,cAACrD,EAAD,CACE9B,OAAQ2D,EACRzF,QAASkH,GACTrD,iBAjFhB,SAA8BmE,GAC5BpH,EACGsH,cAAcF,GACd3H,MAAK,SAACwH,GACLzB,GAAS,CAACyB,GAAF,mBAAcnI,MACtBwH,QAEDH,MAAMC,QAAQC,QA4EL,cAAClH,EAAD,CAAY9B,KAAMgI,EAAcjG,QAASkH,KACzC,cAACjD,EAAD,CACEnC,OAAQ6D,EACR3F,QAASkH,GACThD,mBAlGhB,WACEtD,EACGyF,WAAWA,GAAW5H,KACtB4B,MAAK,WACJ,IAAM8H,EAAWzI,GAAM0I,QAAO,SAACL,GAAD,OAAUA,EAAKtJ,MAAQ4H,GAAW5H,OAChE2H,GAAS+B,GACTjB,QAEDH,MAAMC,QAAQC,QA4FL,cAAC3D,EAAD,CACExB,OAAQuD,EACRrF,QAASkH,GACT3D,eApIhB,SAA4ByE,GAC1BpH,EACGyH,cAAcL,GACd3H,MAAK,SAACC,GACL6F,EAAe,CACb/G,KAAMkB,EAAIlB,KACVQ,MAAOU,EAAIV,MACXD,OAAQW,EAAIX,OACZlB,IAAK6B,EAAI7B,MAEXyI,QAEDH,MAAMC,QAAQC,wBC9JNqB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnI,MAAK,YAAkD,IAA/CoI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.72eb67b5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import React from 'react';\r\nimport logoPath from '../blocks/images/logo.svg';\r\n\r\nexport default function Header({link, text, loggedIn, email = ''}) {\r\n  return (\r\n      <header className=\"header\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src={logoPath}\r\n          alt=\"around the u.s. logo\"\r\n        />\r\n        <div className=\"header__container\">\r\n          {loggedIn && <p className=\"header__email\">{email}</p>}\r\n          <a className=\"header__link\" href={link}>{text}</a>\r\n        </div>\r\n      </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({\r\n  card,\r\n  onCardClick,\r\n  onCardLike,\r\n  onDeletePostClick,\r\n}) {\r\n  //Subscribing to user info context:\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeletePostClick() {\r\n    onDeletePostClick(card);\r\n  }\r\n\r\n  // Checking if the current user is the owner of the current card:\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Creating a variable to set in `className` for the delete button:\r\n  const galleryTrashButtonClassName = `gallery__trash-button ${\r\n    isOwn ? \"gallery__trash-button_visible\" : \"gallery__trash-button_hidden\"\r\n  }`;\r\n\r\n  // Check if the card was liked by the current user\r\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\r\n\r\n  // Create a variable to set in `className` for the like button:\r\n  const galleryLikeButtonClassName = `gallery__like-button ${\r\n    isLiked && \"gallery__like-button_active\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"gallery__item\">\r\n      <button\r\n        className={galleryTrashButtonClassName}\r\n        type=\"button\"\r\n        aria-label=\"delete button\"\r\n        onClick={handleDeletePostClick}\r\n      ></button>\r\n      <div\r\n        className=\"gallery__photo\"\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"gallery__description\">\r\n        <h2 className=\"gallery__text\">{card.name}</h2>\r\n        <div className=\"gallery__like-container\">\r\n          <button\r\n            className={galleryLikeButtonClassName}\r\n            type=\"button\"\r\n            aria-label=\"like button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"gallery__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main({\r\n  onEditProfileClick,\r\n  onAddPlaceClick,\r\n  onEditAvatarClick,\r\n  onDeletePostClick,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n}) {\r\n  //Subscribing to user info context:\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__avatar-container\"\r\n          style={{ backgroundImage: `url(\"${currentUser.avatar}\")` }}\r\n        >\r\n          <button\r\n            className=\"profile__avatar-edit\"\r\n            onClick={onEditAvatarClick}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-title\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              type=\"button\"\r\n              aria-label=\"edit button\"\r\n              onClick={onEditProfileClick}\r\n            ></button>\r\n          </div>\r\n          <p className=\"profile__job-description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          aria-label=\"add button\"\r\n          onClick={onAddPlaceClick}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"gallery\">\r\n        <ul className=\"gallery__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onDeletePostClick={onDeletePostClick}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyrights\">Â© 2021 Neta Hadar Itzhak</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup({card, onClose}) {\r\n  return (\r\n    <div className={`popup popup_type_photo ${card.name ? \"popup_opened\" : ''}`}>\r\n      <div className=\"popup__container popup__container_type_photo\">\r\n        <button\r\n          className=\"popup__close-button popup__close-button_type_photo\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <div className=\"popup__photo\"  style={{ backgroundImage: `url(${card.link})` }}/>\r\n        <h3 className=\"popup__text\">{card.name}</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","const fetchCall = (url, headers) => {\r\n    return fetch(url, headers)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n  \r\n        Promise.reject(`ERROR: ${res.statusText}`);\r\n      })\r\n  };\r\n  \r\n  class Api {\r\n    constructor(baseUrl, headers) {\r\n      this._baseUrl = baseUrl;\r\n      this._headers = headers;\r\n    }\r\n  \r\n    //Get user info from server:\r\n    getUserInfo() {\r\n      return fetchCall(`${this._baseUrl}/users/me`, {\r\n        headers: this._headers,\r\n      });\r\n    }\r\n  \r\n    //Update user avatar:\r\n    setUserAvatar(data) {\r\n      return fetchCall(`${this._baseUrl}/users/me/avatar`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          //New avatar link:\r\n          avatar: data.avatar,\r\n        })\r\n      });\r\n    }\r\n\r\n    //Get initial cards from server:\r\n    getInitialCards() {\r\n      return fetchCall(`${this._baseUrl}/cards`, {\r\n        headers: this._headers,\r\n      });\r\n    }\r\n  \r\n    //Send new profile data to server:\r\n    setUserInfo(obj) {\r\n      return fetchCall(`${this._baseUrl}/users/me`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          //New profile data:\r\n          name: obj.name,\r\n          about: obj.about,\r\n        }),\r\n      });\r\n    }\r\n  \r\n    //Add new card:\r\n    createNewCard(obj) {\r\n      return fetchCall(`${this._baseUrl}/cards`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          //New card data:\r\n          name: obj.name,\r\n          link: obj.link,\r\n        }),\r\n      });\r\n    }\r\n  \r\n    //Delete card:\r\n    deleteCard(cardId) {\r\n      return fetchCall(`${this._baseUrl}/cards/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      });\r\n    }\r\n  \r\n    //Add like to card:\r\n    _addLike(cardId) {\r\n      return fetchCall(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      });\r\n    }\r\n  \r\n    //Remove like from catd:\r\n    _dislike(cardId) {\r\n      return fetchCall(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      });\r\n    }\r\n\r\n    //toggle likes:\r\n    changeLikeCardStatus(cardID, isLiked){\r\n      if (isLiked){\r\n        return this._dislike(cardID);\r\n      } else {\r\n        return this._addLike(cardID);\r\n      }\r\n    }\r\n  }\r\n  \r\n  const api = new Api(\"https://around.nomoreparties.co/v1/group-12\", {\r\n    authorization: \"12be1991-4f28-449f-a9a9-71d4704b25a2\",\r\n    \"Content-Type\": \"application/json\",\r\n  });\r\n  \r\n  export default api;","import React from \"react\";\r\n\r\nexport default function PopupWithForm(props){\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\":''}`} >\r\n          <div className=\"popup__container\">\r\n            <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n            <form className=\"popup__form\" name={props.name}  onSubmit={props.onSubmit}>\r\n              <h2 className=\"popup__form-title\">{props.title}</h2>\r\n              {props.children}\r\n              <button className=\"popup__form-submit-button\" type=\"submit\">\r\n                {props.buttonTitle}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  function handleNameChange(e) {\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = e.target.value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \");\r\n    setName(filteredValue);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = e.target.value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \");\r\n    setDescription(filteredValue);\r\n  }\r\n\r\n  // Subscription to the context\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // After loading the current user from the API\r\n  // their data will be used in managed components.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  //submit handler:\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n\r\n    // Pass the values to the external handler\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Edit Profile\"\r\n      buttonTitle=\"Save\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__form-input\"\r\n        id=\"name-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name}\r\n        onChange={handleNameChange}\r\n        placeholder=\"full name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span id=\"name-input-error\"></span>\r\n      <input\r\n        className=\"popup__form-input\"\r\n        id=\"job-input\"\r\n        type=\"text\"\r\n        name=\"about\"\r\n        value={description}\r\n        onChange={handleDescriptionChange}\r\n        placeholder=\"job title\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span id=\"job-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarLink = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = avatarLink.current.value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \");\r\n    onUpdateAvatar({\r\n      avatar: filteredValue,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Change profile picture\"\r\n      buttonTitle=\"Save\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__form-input\"\r\n        id=\"avatar-link\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        placeholder=\"avatar link\"\r\n        ref={avatarLink}\r\n        required\r\n      />\r\n      <span id=\"avatar-link-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({isOpen, onClose, onAddPlaceSubmit}) {\r\n  const [place, setPlace] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handlePlaceChange(e) {\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = e.target.value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \")\r\n    setPlace(filteredValue);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = e.target.value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \")\r\n    setLink(filteredValue);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Pass the values to the external handler\r\n    onAddPlaceSubmit({\r\n        name: place,\r\n        link: link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"post\"\r\n      title=\"New place\"\r\n      buttonTitle=\"Create\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__form-input\"\r\n        id=\"title-input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={place}\r\n        onChange={handlePlaceChange}\r\n        placeholder=\"Title\"\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span id=\"title-input-error\"></span>\r\n      <input\r\n        className=\"popup__form-input\"\r\n        id=\"link-input\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        value={link}\r\n        onChange={handleLinkChange}\r\n        placeholder=\"Image link\"\r\n        required\r\n      />\r\n      <span id=\"link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function DeletePostPopup({\r\n  isOpen,\r\n  onClose,\r\n  onDeletePostSubmit,\r\n}) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeletePostSubmit();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete\"\r\n      title=\"Are you sure?\"\r\n      buttonTitle=\"Yes\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function InfoTooltip(props) {\r\n\r\n    \r\n\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\":''}`} >\r\n          <div className=\"popup__frame\">\r\n            <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n            <img src={props.src} className=\"popup__status-image\"></img>\r\n            <h2 className=\"popup__title\">{props.title}</h2>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from \"react\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport failPath from \"../blocks/images/fail.svg\";\r\n\r\n\r\nexport default function Login({ onLogin, onClose, isOpen }) {\r\n  const [values, setValues] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \");\r\n    setValues( {...values, [name]: filteredValue} );\r\n  }\r\n\r\n  //submit handler:\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n\r\n    // Pass the values to the external handler\r\n    onLogin(values)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"signing\">\r\n        <h1 className=\"signing__title\">Log In</h1>\r\n        <form className=\"signing__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            className=\"signing__form-input\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n            type=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n          ></input>\r\n          <input\r\n            className=\"signing__form-input\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            required\r\n            type=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n          ></input>\r\n          <button className=\"signing__form-submit-button\" type=\"submit\">Log In</button>\r\n        </form>\r\n        <a className=\"signing__link\" href=\"/signup\">Not a member yet? Sign up here!</a>\r\n      </div>\r\n      <InfoTooltip\r\n                isOpen={isOpen}\r\n                name=\"info\"\r\n                title= \"Oops, something went wrong! Please try again.\"\r\n                src={failPath}\r\n                onClose={onClose}\r\n              />\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from \"react\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport successPath from \"../blocks/images/success.svg\";\r\nimport failPath from \"../blocks/images/fail.svg\";\r\n\r\nexport default function Register({ onRegister, onClose, isOpen, isSuccess }) {\r\n  const [values, setValues] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(e) {\r\n    const { name, value} = e.target;\r\n    // Disallow special characters to prevent XSS\r\n    let filteredValue = value.replace(/[*|\\\"<>[\\]{}`;&$]+/, \" \");\r\n    setValues({...values, [name]: filteredValue});\r\n  }\r\n\r\n\r\n  //submit handler:\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n\r\n    // Pass the values to the external handler\r\n    onRegister( values )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"signing\">\r\n        <h1 className=\"signing__title\">Sign Up</h1>\r\n        <form className=\"signing__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            className=\"signing__form-input\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            required\r\n            type=\"email\"\r\n            value={values.email}\r\n            onChange={handleChange}\r\n          ></input>\r\n          <input\r\n            className=\"signing__form-input\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            required\r\n            type=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n          ></input>\r\n          <button className=\"signing__form-submit-button\" type=\"submit\">Sign Up</button>\r\n        </form>\r\n        <a className=\"signing__link\" href=\"/signin\">Already a member? Log in here!</a>\r\n      </div>\r\n      <InfoTooltip\r\n                isOpen={isOpen}\r\n                name=\"info\"\r\n                title={\r\n                  isSuccess\r\n                    ? \"Success! You have now been registered.\"\r\n                    : \"Oops, something went wrong! Please try again.\"\r\n                }\r\n                src={isSuccess ? successPath : failPath}\r\n                onClose={onClose}\r\n              />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ children, loggedIn, ...props }) {\r\n\r\n  return (\r\n    <Route {...props}>\r\n      {loggedIn ? children : <Redirect to={\"/signin\"} />}\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","\r\nexport const BASE_URL = \"https://register.nomoreparties.co\";\r\n\r\nexport function register({ email, password }) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if (data.error) {\r\n        throw new Error(\"User with this email address already exists\");\r\n      }\r\n    });\r\n}\r\n\r\nexport function authorize({ email, password }) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem(\"jwt\", data.token);\r\n      } else {\r\n        throw new Error(\"the user with the specified email not found\");\r\n      }\r\n    });\r\n}\r\n\r\nexport function getContent(token) {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n  } \r\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeletePostPopup from \"./DeletePostPopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/auth\";\nimport { useHistory } from \"react-router\";\n\nfunction App() {\n  \n  const history = useHistory();\n\n  //State for edit avatar popup:\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n\n  //State for edit profile popup:\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n\n  //State for add post popup:\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  //State for delete post popup:\n  const [isDeletePostPopupOpen, setIsDeletePostPopupOpen] =\n    React.useState(false);\n\n  //States for info popup:\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n  const [infoTitle, setInfoTitle] = React.useState(false);\n\n  //State for full sized image popup:\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n\n  //State for user data:\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n    _id: \"\",\n  });\n\n  //States for getting initial cards from server:\n  const [cards, setCards] = React.useState([]);\n\n  //State for deleted card\n  const [deleteCard, setDeletedCard] = React.useState({\n    _id: \"\",\n  });\n\n  //State for login\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  //State for user email\n  const [email, setEmail] = React.useState(\"\");\n\n  //API request for getting initial cards data:\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch(console.log);\n  }, []);\n\n  //API request for getting user data:\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser({\n          name: res.name,\n          about: res.about,\n          avatar: res.avatar,\n          _id: res._id,\n        });\n      })\n      .catch(console.log);\n  }, []);\n\n  // Validate token\n  function checkToken() {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n      auth.getContent(jwt).then((res) => {\n        if (res) {\n          setLoggedIn(true);\n          setEmail(res.data.email);\n          history.push(\"/\");\n        }\n      }).catch(console.log);\n    }\n  }\n\n  // Keep returning users logged in\n  React.useEffect(() => {\n    checkToken();\n  });\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ name: card.name, link: card.link });\n  }\n\n  function handleDeletePostClick(card) {\n    setIsDeletePostPopupOpen(true);\n    setDeletedCard({ _id: card._id });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeletePostPopupOpen(false);\n    setIsInfoPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(newData) {\n    api\n      .setUserInfo(newData)\n      .then((res) => {\n        setCurrentUser({\n          name: res.name,\n          about: res.about,\n          avatar: res.avatar,\n          _id: res._id,\n        });\n        closeAllPopups();\n      })\n      .catch(console.log);\n  }\n\n  function handleUpdateAvatar(newData) {\n    api\n      .setUserAvatar(newData)\n      .then((res) => {\n        setCurrentUser({\n          name: res.name,\n          about: res.about,\n          avatar: res.avatar,\n          _id: res._id,\n        });\n        closeAllPopups();\n      })\n      .catch(console.log);\n  }\n\n  function handleCardLike(card) {\n    // Check if card was already liked:\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cardsState) =>\n          cardsState.map((item) => (item._id === card._id ? newCard : item))\n        );\n      })\n      .catch(console.log);\n  }\n\n  function handleCardDelete() {\n    api\n      .deleteCard(deleteCard._id)\n      .then(() => {\n        const newCards = cards.filter((item) => item._id !== deleteCard._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(console.log);\n  }\n\n  function handleAddPlaceSubmit(newData) {\n    api\n      .createNewCard(newData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(console.log);\n  }\n\n  function handleLogin(values) {\n    auth\n      .authorize(values)\n      .then(checkToken())\n      .catch((err) => {\n        console.log(err);\n        setIsInfoPopupOpen(true);\n      });\n  }\n\n  function handleRegister(values) {\n    console.log(values);\n    auth\n      .register(values)\n      .then(() => {\n        history.push(\"/.signin\");\n        setInfoTitle(true);\n        setIsInfoPopupOpen(true);\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsInfoPopupOpen(true);\n        setInfoTitle(false);\n      });\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"content\">\n          {/* TODO: add login / sign up/ log out to header */}\n          <Switch>\n            <Route path=\"/signup\">\n              <Header link=\"/signin\" text=\"Log In\" loggedIn={loggedIn}/>\n              <Register\n                onRegister={handleRegister}\n                onClose={closeAllPopups}\n                isOpen={isInfoPopupOpen}\n                isSuccess={infoTitle}\n              />\n            </Route>\n            <Route path=\"/signin\">\n              <Header link=\"/signup\" text=\"Sign Up\" loggedIn={loggedIn}/>\n              <Login\n                onLogin={handleLogin}\n                onClose={closeAllPopups}\n                isOpen={isInfoPopupOpen}\n              />\n            </Route>\n            <ProtectedRoute path=\"/\" loggedIn={loggedIn}>\n              <Header link=\"/signin\" text=\"Log Out\" loggedIn={loggedIn} email={email}/>\n              <Main\n                onEditProfileClick={handleEditProfileClick}\n                onAddPlaceClick={handleAddPlaceClick}\n                onEditAvatarClick={handleEditAvatarClick}\n                onDeletePostClick={handleDeletePostClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n              />\n              <Footer />\n\n              <section>\n                <EditProfilePopup\n                  isOpen={isEditProfilePopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateUser={handleUpdateUser}\n                />\n                <AddPlacePopup\n                  isOpen={isAddPlacePopupOpen}\n                  onClose={closeAllPopups}\n                  onAddPlaceSubmit={handleAddPlaceSubmit}\n                />\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                <DeletePostPopup\n                  isOpen={isDeletePostPopupOpen}\n                  onClose={closeAllPopups}\n                  onDeletePostSubmit={handleCardDelete}\n                />\n                <EditAvatarPopup\n                  isOpen={isEditAvatarPopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateAvatar={handleUpdateAvatar}\n                />\n              </section>\n            </ProtectedRoute>\n          </Switch>\n        </div>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}